{% extends "base.html" %}

{% block title %}Gift Shop - Gift Combos{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Gift Combos</h1>
    <div class="filter-options">
        <select id="categoryFilter" onchange="window.location.href=this.value">
            <option value="{{ url_for('combos') }}" {% if not current_category %}selected{% endif %}>All Categories</option>
            {% for category in categories %}
            <option value="{{ url_for('combos', category=category) }}" {% if current_category == category %}selected{% endif %}>{{ category }}</option>
            {% endfor %}
        </select>
    </div>
</div>

{% if current_category %}
<div class="filter-tags" id="filterTags">
    <div class="filter-tag">
        Category: {{ current_category }}
        <button ;onclick="window.location.href='{{ url_for('combos') }}'">Ã—</button>
    </div>
</div>
{% endif %}

<!-- Combos Container -->
<div class="combos-container">
    {% for combo in combos %}
    <div class="product-card" data-id="{{ combo.id }}" data-type="combo">
        <img src="{{ url_for('static', filename='images/products/' + combo.image) }}" alt="{{ combo.name }}">
        <h3>{{ combo.name }}</h3>
        <p class="price">${{ combo.price }}</p>
        <div class="combo-details">
            <p>Includes: {{ combo.products|join(', ') }}</p>
        </div>
        <p class="description">{{ combo.description }}</p>
        <button class="add-to-cart">Add to Cart</button>
    </div>
    {% endfor %}
</div>

{% if not combos %}
<div class="no-products">
    <p>No gift combos found in this category.</p>
    <a href="{{ url_for('combos') }}" class="btn btn-primary">View All Gift Combos</a>
</div>
{% endif %}
{% endblock %}