{% extends "base.html" %}

{% block title %}Gift Shop - All Products{% endblock %}

{% block content %}
<div class="page-header">
    <h1>Our Products</h1>
    <div class="filter-options">
        <select id="categoryFilter" onchange="window.location.href=this.value">
            <option value="{{ url_for('products') }}" {% if not current_category %}selected{% endif %}>All Categories</option>
            {% for category in categories %}
            <option value="{{ url_for('products', category=category) }}" {% if current_category == category %}selected{% endif %}>{{ category }}</option>
            {% endfor %}
        </select>
    </div>
</div>

{% if current_category %}
<div class="filter-tags" id="filterTags">
    <div class="filter-tag">
        Category: {{ current_category }}
        <button ;onclick="window.location.href='{{ url_for('products') }}'">Ã—</button>
    </div>
</div>
{% endif %}

<!-- Products Container -->
<div class="products-container">
    {% for product in products %}
    <div class="product-card" data-id="{{ product.id }}" data-type="product">
        <img src="{{ url_for('static', filename='images/products/' + product.image) }}" alt="{{ product.name }}">
        <h3>{{ product.name }}</h3>
        <p class="price">${{ product.price }}</p>
        <p class="description">{{ product.description }}</p>
        <button class="add-to-cart">Add to Cart</button>
    </div>
    {% endfor %}
</div>

{% if not products %}
<div class="no-products">
    <p>No products found in this category.</p>
    <a href="{{ url_for('products') }}" class="btn btn-primary">View All Products</a>
</div>
{% endif %}
{% endblock %}